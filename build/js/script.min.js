lottie.loadAnimation({container:document.getElementById("animation"),renderer:"svg",loop:!0,autoplay:!0,path:"data.json"}),function(){var e="https://split.daichicloud.ru/brands/all",t="GET",s=200,n=300,i=function(e,t){var i=new XMLHttpRequest;return i.timeout=1e4,i.responseType="json",i.addEventListener("load",(function(){!function(e){return e.status<s||e.status>n}(i)?e(i.response):t("Данные не загрузились. Причина: "+i.status+" "+i.statusText)})),i.addEventListener("error",(function(){t("Произошла ошибка соединения")})),i.addEventListener("timeout",(function(){t("Запрос не успел выполниться за "+i.timeout+"мс")})),i},c=function(e){e.remove()},o=function(e){var t=document.createElement("div");t.style="z-index: 100; margin: 0 auto; text-align: center; background-color: red;",t.style.position="absolute",t.style.left=0,t.style.right=0,t.style.fontSize="30px",t.textContent=e,document.body.insertAdjacentElement("afterbegin",t),window.setTimeout(c,2e3,t)};window.backend={load:function(s,n){var c=i(s,n||o);c.open(t,e),c.send()}}}(),function(e){window.makeSelect=function(t){e(t).select2({minimumResultsForSearch:-1})}}(jQuery),function(){const e=document.querySelector(".model-choice__brand-select"),t=document.querySelectorAll(".model-choice__series-select");let s=-1;const n=e=>{e.classList.remove("select2-hidden-accessible"),e.removeAttribute("aria-hidden"),e.removeAttribute("tabindex")},i=e=>{e.classList.add("select2-hidden-accessible"),e.setAttribute("aria-hedden","true"),e.setAttribute("tabindex","-1")},c=()=>window.matchMedia("(max-width: 479px)").matches;let o=!c;const a=()=>{c()&&o&&(o=!1,n(e),-1!==s&&n(t[s]),d()),c()||o||(o=!0,i(e),-1!==s&&i(t[s]),l())},d=()=>{e.addEventListener("change",r)},l=()=>{e.removeEventListener("change",r)},r=e=>{-1!==s&&i(t[s]),s=e.target.selectedIndex,n(t[s])};window.Resize={addListener:()=>{window.addEventListener("resize",a)},init:()=>{c()&&(n(e),d())}}}(),function(e,t,s){let n="#";const i=document.querySelector(".model-choice__brand-list"),c=document.querySelector(".model-choice__brand-choice"),o=document.querySelector(".model-choice__series-list"),a=document.querySelector(".model-choice__series-choice"),d=document.querySelector(".model-choice__select-brand"),l=document.querySelector(".model-choice__select-series");let r=-1,m=-1;document.querySelector(".model-choice__series-wrapper"),document.querySelector("#series").content.querySelector(".model-choice__series-select");const u=document.querySelector(".model-choice__link"),h=()=>{i.classList.contains("show")?i.classList.contains("show")&&i.classList.remove("show"):i.classList.add("show")},L=()=>{o.classList.contains("show")?o.classList.contains("show")&&o.classList.remove("show"):o.classList.add("show")},_=e=>{let t=e.target;t.classList.contains("model-choice__brand-choice")||t.classList.contains("model-choice__brand-item")||t.classList.contains("model-choice__brand-list")||!i.classList.contains("show")||i.classList.remove("show"),t.classList.contains("model-choice__series-choice")||t.classList.contains("model-choice__series-item")||t.classList.contains("model-choice__series-list")||!o.classList.contains("show")||o.classList.remove("show")};e.load(e=>{let t=document.createDocumentFragment(),s=0;e.forEach(e=>{let n=document.createElement("li");n.textContent=e.title,n.classList.add("model-choice__brand-item"),n.setAttribute("data-id",s),s++,t.appendChild(n)}),i.appendChild(t);let b=document.createDocumentFragment();e.forEach(e=>{let t=document.createElement("option");t.textContent=e.title,t.classList.add("model-choice__brand-option"),t.setAttribute("data-id",s),b.appendChild(t)}),d.appendChild(b);c.addEventListener("click",h),a.addEventListener("click",L),i.addEventListener("click",t=>{let s=t.target,n=+s.getAttribute("data-id");if(s.classList.contains("model-choice__brand-item")&&(r===n&&i.classList.remove("show"),r!==n)){o.innerHTML="";let t=document.createDocumentFragment(),n=+s.getAttribute("data-id");e[n].series.forEach(e=>{let s=document.createElement("li");s.textContent=e.title,s.classList.add("model-choice__series-item"),t.appendChild(s)}),o.appendChild(t),r=n,c.textContent=s.textContent,c.classList.contains("selected")||c.classList.add("selected"),a.hasAttribute("disabled")&&a.removeAttribute("disabled"),i.classList.remove("show")}}),o.addEventListener("click",e=>{let t=e.target;t.classList.contains("model-choice__series-item")&&(a.textContent=t.textContent,a.classList.contains("selected")||a.classList.add("selected"),o.classList.remove("show"),u.classList.remove("disabled"),n=t.textContent,u.setAttribute("href",n))}),d.addEventListener("change",t=>{m=t.target.selectedIndex-1,l.innerHTML="";let s=document.createElement("option");s.textContent="Выбрать из списка",s.setAttribute("disabled",""),s.setAttribute("selected",""),l.appendChild(s);let n=document.createDocumentFragment();l.hasAttribute("disabled")&&l.removeAttribute("disabled"),e[m].series.forEach(e=>{let t=document.createElement("option");t.textContent=e.title,t.classList.add("model-choice__series-option"),n.appendChild(t)}),l.appendChild(n),c.textContent=t.target.value,c.classList.contains("selected")||c.classList.add("selected")}),l.addEventListener("change",e=>{a.textContent=e.target.value,a.classList.contains("selected")||a.classList.add("selected"),u.classList.remove("disabled"),n=e.target.value,u.setAttribute("href",n)}),document.addEventListener("mousedown",_)})}(window.backend,window.makeSelect,window.Resize);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGlvbi5qcyIsImJhY2tlbmQuanMiLCJzZWxlY3QuanMiLCJyZXNpemUuanMiLCJjaG9pY2UuanMiXSwibmFtZXMiOlsibG90dGllIiwibG9hZEFuaW1hdGlvbiIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXJlciIsImxvb3AiLCJhdXRvcGxheSIsInBhdGgiLCJSZXFVcmwiLCJSZXFNZXRob2QiLCJSZXFTdGF0dXMiLCJjcmVhdGVSZXF1ZXN0Iiwib25Mb2FkIiwib25FcnJvciIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwidGltZW91dCIsInJlc3BvbnNlVHlwZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGF0dXMiLCJpc0Vycm9yU3RhdHVzIiwicmVzcG9uc2UiLCJzdGF0dXNUZXh0IiwicmVtb3ZlRWxlbWVudCIsImVsZW1lbnQiLCJyZW1vdmUiLCJvbkFueUVycm9yIiwibWVzc2FnZSIsIm5vZGUiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJwb3NpdGlvbiIsImxlZnQiLCJyaWdodCIsImZvbnRTaXplIiwidGV4dENvbnRlbnQiLCJib2R5IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Iiwid2luZG93Iiwic2V0VGltZW91dCIsImJhY2tlbmQiLCJsb2FkIiwicmVxIiwib3BlbiIsInNlbmQiLCIkIiwibWFrZVNlbGVjdCIsImVsZW1lbnRDbGFzcyIsInNlbGVjdDIiLCJtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaCIsImpRdWVyeSIsImJyYW5kU2VsZWN0IiwicXVlcnlTZWxlY3RvciIsInNlcmllc1NlbGVjdHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaWR4IiwicmVtb3ZlQ2xhc3MiLCJpdGVtIiwiY2xhc3NMaXN0IiwicmVtb3ZlQXR0cmlidXRlIiwiYWRkQ2xhc3MiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJpc01vYmlsZSIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiaXNPdXRPZk1vYmlsZSIsIm9uUmVzaXplIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsIm9uQnJhbmRDaGFuZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0Iiwic2VsZWN0ZWRJbmRleCIsIlJlc2l6ZSIsImFkZExpc3RlbmVyIiwiaW5pdCIsImxpbmtIcmVmIiwiYnJhbmRMaXN0IiwiYnJhbmRCdXR0b24iLCJzZXJpZXNMaXN0Iiwic2VyaWVzQnV0dG9uIiwic2VyaWVzU2VsZWN0IiwiY3VycmVudEJyYW5kSWR4IiwiY3VycmVudE9wdGlvbklkeCIsImNvbnRlbnQiLCJsaW5rIiwib25CcmFuZENsaWNrIiwiY29udGFpbnMiLCJvblNlcmllc0NsaWNrIiwib25PdXRzaWRlQ2xpY2siLCJhcnIiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJpIiwiZm9yRWFjaCIsImFwcGVuZENoaWxkIiwiZnJhZ21lbnQxIiwibm9kZTEiLCJnZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJzZXJpZXMiLCJzZXJpZSIsImhhc0F0dHJpYnV0ZSIsInZhbHVlIl0sIm1hcHBpbmdzIjoiQUFDQUEsT0FBQUMsY0FBQSxDQUNBQyxVQUFBQyxTQUFBQyxlQUFBLGFBQ0FDLFNBQUEsTUFDQUMsTUFBQSxFQUNBQyxVQUFBLEVBQ0FDLEtBQUEsY0NKQSxXQUNBLElBQUFDLEVBQ0EsMENBSUFDLEVBQ0EsTUFJQUMsRUFDQSxJQURBQSxFQUVBLElBVUFDLEVBQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUFBQyxFQUFBLElBQUFDLGVBc0JBLE9BcEJBRCxFQUFBRSxRQVZBLElBV0FGLEVBQUFHLGFBQUEsT0FFQUgsRUFBQUksaUJBQUEsUUFBQSxZQVhBLFNBQUFKLEdBQ0EsT0FBQUEsRUFBQUssT0FBQVQsR0FDQUksRUFBQUssT0FBQVQsRUFVQVUsQ0FBQU4sR0FLQUYsRUFBQUUsRUFBQU8sVUFKQVIsRUFBQSxtQ0FBQUMsRUFBQUssT0FBQSxJQUFBTCxFQUFBUSxlQU9BUixFQUFBSSxpQkFBQSxT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QixhQUFBLGFBQ0FyQixFQUFBeEIsZ0JBQUEsWUFJQWlDLEVBQUFQLEdBQUFpQixPQUFBTixRQUFBTyxJQUNBLElBQUEzRSxFQUFBMUIsU0FBQTJCLGNBQUEsVUFDQUQsRUFBQU8sWUFBQW9FLEVBQUEsTUFDQTNFLEVBQUE4QixVQUFBRyxJQUFBLCtCQUNBZ0MsRUFBQUksWUFBQXJFLEtBR0F1RCxFQUFBYyxZQUFBSixHQUVBYixFQUFBN0MsWUFBQXFDLEVBQUFDLE9BQUFnQyxNQUNBekIsRUFBQXRCLFVBQUErQixTQUFBLGFBQ0FULEVBQUF0QixVQUFBRyxJQUFBLGNBa0dBc0IsRUFBQWpFLGlCQUFBLFNBN0VBc0QsSUFDQVUsRUFBQS9DLFlBQUFxQyxFQUFBQyxPQUFBZ0MsTUFDQXZCLEVBQUF4QixVQUFBK0IsU0FBQSxhQUNBUCxFQUFBeEIsVUFBQUcsSUFBQSxZQUdBMEIsRUFBQTdCLFVBQUFqQyxPQUFBLFlBQ0FxRCxFQUFBTixFQUFBQyxPQUFBZ0MsTUFDQWxCLEVBQUF6QixhQUFBLE9BQUFnQixLQXNFQTVFLFNBQUFnQixpQkFBQSxZQUFBeUUsS0FoVUEsQ0FxVUFyRCxPQUFBRSxRQUFBRixPQUFBUSxXQUFBUixPQUFBcUMiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG4gIGxvdHRpZS5sb2FkQW5pbWF0aW9uKHtcbiAgICBjb250YWluZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbmltYXRpb24nKSwgLy8gdGhlIGRvbSBlbGVtZW50IHRoYXQgd2lsbCBjb250YWluIHRoZSBhbmltYXRpb25cbiAgICByZW5kZXJlcjogJ3N2ZycsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICBwYXRoOiAnZGF0YS5qc29uJyAvLyB0aGUgcGF0aCB0byB0aGUgYW5pbWF0aW9uIGpzb25cbiAgfSk7XG59KSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgUmVxVXJsID0ge1xuICAgIEdFVDogJ2h0dHBzOi8vc3BsaXQuZGFpY2hpY2xvdWQucnUvYnJhbmRzL2FsbCcsXG4gICAgLy9QT1NUOiAnaHR0cHM6Ly9qcy5kdW1wLmFjYWRlbXkva2Vrc3RhZ3JhbSdcbiAgfTtcblxuICB2YXIgUmVxTWV0aG9kID0ge1xuICAgIEdFVDogJ0dFVCcsXG4gICAgUE9TVDogJ1BPU1QnXG4gIH07XG5cbiAgdmFyIFJlcVN0YXR1cyA9IHtcbiAgICBPSzogMjAwLFxuICAgIE1VTFRJUExFX0NIT0lDRVM6IDMwMCxcbiAgfTtcblxuICB2YXIgVElNRU9VVCA9IDEwMDAwO1xuXG4gIHZhciBpc0Vycm9yU3RhdHVzID0gZnVuY3Rpb24gKHhocikge1xuICAgIHJldHVybiB4aHIuc3RhdHVzIDwgUmVxU3RhdHVzLk9LXG4gICAgICB8fCB4aHIuc3RhdHVzID4gUmVxU3RhdHVzLk1VTFRJUExFX0NIT0lDRVM7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiAob25Mb2FkLCBvbkVycm9yKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgeGhyLnRpbWVvdXQgPSBUSU1FT1VUO1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG5cbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Vycm9yU3RhdHVzKHhocikpIHtcbiAgICAgICAgb25FcnJvcign0JTQsNC90L3Ri9C1INC90LUg0LfQsNCz0YDRg9C30LjQu9C40YHRjC4g0J/RgNC40YfQuNC90LA6ICcgKyB4aHIuc3RhdHVzICsgJyAnICsgeGhyLnN0YXR1c1RleHQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG9uTG9hZCh4aHIucmVzcG9uc2UpO1xuICAgIH0pO1xuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICAgICAgb25FcnJvcign0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDRgdC+0LXQtNC40L3QtdC90LjRjycpO1xuICAgIH0pO1xuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBvbkVycm9yKCfQl9Cw0L/RgNC+0YEg0L3QtSDRg9GB0L/QtdC7INCy0YvQv9C+0LvQvdC40YLRjNGB0Y8g0LfQsCAnICsgeGhyLnRpbWVvdXQgKyAn0LzRgScpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHhocjtcbiAgfTtcblxuICB2YXIgcmVtb3ZlRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgfTtcblxuICB2YXIgb25BbnlFcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBub2RlLnN0eWxlID0gJ3otaW5kZXg6IDEwMDsgbWFyZ2luOiAwIGF1dG87IHRleHQtYWxpZ246IGNlbnRlcjsgYmFja2dyb3VuZC1jb2xvcjogcmVkOyc7XG4gICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgbm9kZS5zdHlsZS5sZWZ0ID0gMDtcbiAgICBub2RlLnN0eWxlLnJpZ2h0ID0gMDtcbiAgICBub2RlLnN0eWxlLmZvbnRTaXplID0gJzMwcHgnO1xuXG4gICAgbm9kZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyYmVnaW4nLCBub2RlKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dChyZW1vdmVFbGVtZW50LCAyMDAwLCBub2RlKTtcbiAgfTtcblxuICB3aW5kb3cuYmFja2VuZCA9IHtcbiAgICBsb2FkOiBmdW5jdGlvbiAob25Mb2FkLCBvbkVycm9yKSB7XG4gICAgICB2YXIgcmVxID0gY3JlYXRlUmVxdWVzdChvbkxvYWQsIG9uRXJyb3IgfHwgb25BbnlFcnJvcik7XG4gICAgICByZXEub3BlbihSZXFNZXRob2QuR0VULCBSZXFVcmwuR0VUKTtcbiAgICAgIHJlcS5zZW5kKCk7XG4gICAgfSxcblxuICAgIC8vIHNhdmU6IGZ1bmN0aW9uIChkYXRhLCBvbkxvYWQsIG9uRXJyb3IpIHtcbiAgICAvLyAgIHZhciByZXEgPSBjcmVhdGVSZXF1ZXN0KG9uTG9hZCwgb25FcnJvcik7XG4gICAgLy8gICByZXEub3BlbihSZXFNZXRob2QuUE9TVCwgUmVxVXJsLlBPU1QpO1xuICAgIC8vICAgcmVxLnNlbmQoZGF0YSk7XG4gICAgLy8gfVxuICB9O1xufSkoKTtcblxuXG5cblxuIiwiLy8gJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4vLyAgIC8vICQoJy5tb2RlbC1jaG9pY2VfX2JyYW5kLXNlbGVjdCcpLnNlbGVjdDIoe1xuLy8gICAvLyAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiAtMSxcbi8vICAgLy8gfSk7XG5cbi8vICAgLy8gJCgnLm1vZGVsLWNob2ljZV9fc2VyaWVzLXNlbGVjdCcpLnNlbGVjdDIoe1xuLy8gICAvLyAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiAtMSxcbi8vICAgLy8gfSk7XG5cbi8vICAgZnVuY3Rpb24gbWFrZVNlbGVjdChlbGVtZW50KSB7XG4vLyAgICAgJChlbGVtZW50KS5zZWxlY3QyKHtcbi8vICAgICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiAtMSxcbi8vICAgICB9KTtcbi8vICAgfTtcblxuXG5cblxuLy8gICB3aW5kb3cubWFrZVNlbGVjdCA9IG1ha2VTZWxlY3Q7XG5cbi8vICAgY29uc29sZS5sb2cod2luZG93Lm1ha2VTZWxlY3QpO1xuXG4vLyB9KTtcblxuXG4oZnVuY3Rpb24oJCkge1xuICBmdW5jdGlvbiBtYWtlU2VsZWN0KGVsZW1lbnRDbGFzcykge1xuICAgICQoZWxlbWVudENsYXNzKS5zZWxlY3QyKHtcbiAgICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiAtMSxcbiAgICB9KTtcbiAgfTtcblxuICB3aW5kb3cubWFrZVNlbGVjdCA9IG1ha2VTZWxlY3Q7XG59KShqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgYnJhbmRTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kZWwtY2hvaWNlX19icmFuZC1zZWxlY3QnKTtcbiAgY29uc3Qgc2VyaWVzU2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RlbC1jaG9pY2VfX3Nlcmllcy1zZWxlY3QnKTtcbiAgY29uc3QgaGlkaW5nQ2xhc3MgPSAnc2VsZWN0Mi1oaWRkZW4tYWNjZXNzaWJsZSc7XG5cbiAgbGV0IGlkeCA9IC0xO1xuXG4gIGNvbnN0IHJlbW92ZUNsYXNzID0gKGl0ZW0pID0+IHtcbiAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoaGlkaW5nQ2xhc3MpO1xuICAgIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuICAgIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICB9O1xuXG4gIGNvbnN0IGFkZENsYXNzID0gKGl0ZW0pID0+IHtcbiAgICBpdGVtLmNsYXNzTGlzdC5hZGQoaGlkaW5nQ2xhc3MpO1xuICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLWhlZGRlbicsICd0cnVlJyk7XG4gICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gIH07XG5cbiAgY29uc3QgaXNNb2JpbGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuICB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNDc5cHgpJykubWF0Y2hlcztcbiAgfTtcblxuICBsZXQgaXNPdXRPZk1vYmlsZSA9ICFpc01vYmlsZTtcblxuICBjb25zdCBvblJlc2l6ZSA9ICgpID0+IHtcbiAgICBpZiAoaXNNb2JpbGUoKSAmJiBpc091dE9mTW9iaWxlKSB7XG4gICAgICBpc091dE9mTW9iaWxlID0gZmFsc2U7XG5cbiAgICAgIHJlbW92ZUNsYXNzKGJyYW5kU2VsZWN0KTtcblxuICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3Moc2VyaWVzU2VsZWN0c1tpZHhdKTtcbiAgICAgIH1cblxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTW9iaWxlKCkgJiYgIWlzT3V0T2ZNb2JpbGUpIHtcbiAgICAgIGlzT3V0T2ZNb2JpbGUgPSB0cnVlO1xuXG4gICAgICBhZGRDbGFzcyhicmFuZFNlbGVjdCk7XG5cbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIGFkZENsYXNzKHNlcmllc1NlbGVjdHNbaWR4XSk7XG4gICAgICB9XG5cbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYWRkRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgYnJhbmRTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25CcmFuZENoYW5nZSk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgYnJhbmRTZWxlY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25CcmFuZENoYW5nZSk7XG4gIH07XG5cbiAgY29uc3Qgb25CcmFuZENoYW5nZSA9IChldnQpID0+IHtcbiAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgYWRkQ2xhc3Moc2VyaWVzU2VsZWN0c1tpZHhdKTtcbiAgICB9XG5cbiAgICBpZHggPSBldnQudGFyZ2V0LnNlbGVjdGVkSW5kZXg7XG5cbiAgICByZW1vdmVDbGFzcyhzZXJpZXNTZWxlY3RzW2lkeF0pO1xuICB9O1xuXG4gIFxuXG4gIHdpbmRvdy5SZXNpemUgPSB7XG4gICAgYWRkTGlzdGVuZXI6ICgpID0+IHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZSk7XG4gICAgfSxcblxuICAgIGluaXQ6ICgpID0+IHtcbiAgICAgIGlmIChpc01vYmlsZSgpKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKGJyYW5kU2VsZWN0KTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgXG59KSgpO1xuIiwiKGZ1bmN0aW9uIChiYWNrZW5kLCBtYWtlU2VsZWN0LCBSZXNpemUpIHtcbiAgLy8gY29uc3Qgc3BsaXRzID0gW1xuICAvLyAgIHtcbiAgLy8gICAgIFwiaWRcIjo3LFxuICAvLyAgICAgXCJ0aXRsZVwiOlwiQXhpb21hXCIsXG4gIC8vICAgICBcInNlcmllc1wiOltcbiAgLy8gICAgICAge1xuICAvLyAgICAgICAgIFwiaWRcIjo2MyxcbiAgLy8gICAgICAgICBcInRpdGxlXCI6XCJBU1hfQVwiXG4gIC8vICAgICAgIH0sXG4gIC8vICAgICAgIHtcbiAgLy8gICAgICAgICBcImlkXCI6NjIsXG4gIC8vICAgICAgICAgXCJ0aXRsZVwiOlwiQVNYX0FaXCJcbiAgLy8gICAgICAgfVxuICAvLyAgICAgXVxuICAvLyAgIH0sXG4gIC8vICAge1wiaWRcIjo2LFwidGl0bGVcIjpcIkRhaWNoaVwiLFwic2VyaWVzXCI6W3tcImlkXCI6NDUsXCJ0aXRsZVwiOlwiQ2FyYm9uIERBX0RWUVwifSx7XCJpZFwiOjQ2LFwidGl0bGVcIjpcIkV2ZXJlc3QgREFfRVZRXCJ9LHtcImlkXCI6NDMsXCJ0aXRsZVwiOlwiUGVhayBEQV9BVlFTXCJ9LHtcImlkXCI6NDIsXCJ0aXRsZVwiOlwiWC10cmVtZSBQZWFrIERBX0FWUVNcIn1dfSxcbiAgLy8gICB7XCJpZFwiOjEsXCJ0aXRsZVwiOlwiRGFpa2luXCIsXCJzZXJpZXNcIjpbe1wiaWRcIjoxMSxcInRpdGxlXCI6XCJDb21mb3JhIEZUWC1KXFwvR1ZcIn0se1wiaWRcIjoyNixcInRpdGxlXCI6XCJDb21mb3JhIEZUWFAtSzNcIn0se1wiaWRcIjoyNyxcInRpdGxlXCI6XCJDb21mb3JhIEZUWFAtTFwifSx7XCJpZFwiOjI4LFwidGl0bGVcIjpcIkNvbWZvcmEgRlRYUC1NXCJ9LHtcImlkXCI6MjMsXCJ0aXRsZVwiOlwiRW11cmEgRlRYRy1MXCJ9LHtcImlkXCI6MTgsXCJ0aXRsZVwiOlwiRW11cmEgRlRYSi1NXCJ9LHtcImlkXCI6MjAsXCJ0aXRsZVwiOlwiRkxYUy1CXCJ9LHtcImlkXCI6MTYsXCJ0aXRsZVwiOlwiRlRYQi1CXCJ9LHtcImlkXCI6NjUsXCJ0aXRsZVwiOlwiRlRYUy1FXCJ9LHtcImlkXCI6NjQsXCJ0aXRsZVwiOlwiRlRYUy1KXFwvR1wifSx7XCJpZFwiOjIxLFwidGl0bGVcIjpcIkZWWE0tRlwifSx7XCJpZFwiOjIyLFwidGl0bGVcIjpcIkZWWFMtRlwifSx7XCJpZFwiOjE5LFwidGl0bGVcIjpcIk5leHVyYSBGVlhHLUtcIn0se1wiaWRcIjoyNCxcInRpdGxlXCI6XCJQZXJmZXJhIEZUWE0tTlwifSx7XCJpZFwiOjI1LFwidGl0bGVcIjpcIlBlcmZlcmEgRlRYUy1LXCJ9LHtcImlkXCI6MSxcInRpdGxlXCI6XCJTZW5zaXJhIEZUWEItQ1wifV19LFxuICAvLyAgIHtcImlkXCI6MixcInRpdGxlXCI6XCJLZW50YXRzdVwiLFwic2VyaWVzXCI6W3tcImlkXCI6NDksXCJ0aXRsZVwiOlwiQnJhdm8gIEtTR0JfSEZBTlwifSx7XCJpZFwiOjUwLFwidGl0bGVcIjpcIkJyYXZvICBLU0dCQV9IWkFOXCJ9LHtcImlkXCI6NTYsXCJ0aXRsZVwiOlwiS01HQkFfSFpBTlwifSx7XCJpZFwiOjU3LFwidGl0bGVcIjpcIktNR0JCX0haQU5cIn0se1wiaWRcIjo1MixcInRpdGxlXCI6XCJUZWFtICBLU0dUX0haQU5cIn0se1wiaWRcIjo0NyxcInRpdGxlXCI6XCJUaXRhbiBHZW5lc2lzIEtTR1hcIn0se1wiaWRcIjo1MSxcInRpdGxlXCI6XCJUdXJpbiBLU0dVX0haQU5cIn1dfSxcbiAgLy8gICB7XCJpZFwiOjgsXCJ0aXRsZVwiOlwiTWlkZWFcIixcInNlcmllc1wiOlt7XCJpZFwiOjYxLFwidGl0bGVcIjpcIkJsYW5jIE1TTUFcIn0se1wiaWRcIjo2MCxcInRpdGxlXCI6XCJCbGFuYyBNU01BIEVSUCAoTUEpXCJ9LHtcImlkXCI6NTksXCJ0aXRsZVwiOlwiTWlzc2lvbiBNU01CIChNQilcIn0se1wiaWRcIjo1OCxcInRpdGxlXCI6XCJVbHRpbWF0ZSBDb21mb3J0IE1TTVQgKE1UKVwifV19XTtcblxuICBsZXQgbGlua0hyZWYgPSAnIyc7XG5cbiAgY29uc3QgYnJhbmRDbGFzcyA9ICcubW9kZWwtY2hvaWNlX19icmFuZC1zZWxlY3QnO1xuICBjb25zdCBzZXJpZXNDbGFzcyA9ICcubW9kZWwtY2hvaWNlX19zZXJpZXMtc2VsZWN0JztcblxuICBjb25zdCBicmFuZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kZWwtY2hvaWNlX19icmFuZC1saXN0Jyk7XG4gIGNvbnN0IGJyYW5kQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGVsLWNob2ljZV9fYnJhbmQtY2hvaWNlJyk7XG4gIGNvbnN0IHNlcmllc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kZWwtY2hvaWNlX19zZXJpZXMtbGlzdCcpO1xuICBjb25zdCBzZXJpZXNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kZWwtY2hvaWNlX19zZXJpZXMtY2hvaWNlJyk7XG4gIGNvbnN0IGJyYW5kU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGVsLWNob2ljZV9fc2VsZWN0LWJyYW5kJyk7XG4gIGNvbnN0IHNlcmllc1NlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RlbC1jaG9pY2VfX3NlbGVjdC1zZXJpZXMnKTtcblxuICBsZXQgY3VycmVudEJyYW5kSWR4ID0gLTE7XG4gIGxldCBjdXJyZW50T3B0aW9uSWR4ID0gLTE7XG5cbiAgLy9jb25zdCBicmFuZFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RlbC1jaG9pY2VfX2JyYW5kLXNlbGVjdCcpO1xuICBjb25zdCBzZXJpZXNXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGVsLWNob2ljZV9fc2VyaWVzLXdyYXBwZXInKTtcbiAgY29uc3Qgc2VyaWVzVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2VyaWVzJykuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kZWwtY2hvaWNlX19zZXJpZXMtc2VsZWN0Jyk7XG5cbiAgY29uc3QgbGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RlbC1jaG9pY2VfX2xpbmsnKTtcblxuICBjb25zdCBvbkJyYW5kQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKCFicmFuZExpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93JykpIHtcbiAgICAgIGJyYW5kTGlzdC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGJyYW5kTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKSkge1xuICAgICAgYnJhbmRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICB9XG4gICAgLy8galF1ZXJ5KCcubW9kZWwtY2hvaWNlX19icmFuZC1saXN0JykubUN1c3RvbVNjcm9sbGJhcih7XG4gICAgLy8gICBzZXRIZWlnaHQ6IDE4OSxcbiAgICAvLyAgIGF1dG9IaWRlU2Nyb2xsYmFyOiBmYWxzZSxcbiAgICAvLyAgIHRoZW1lOiAnZGFyaycsXG4gICAgLy8gICBtb3VzZVdoZWVsUGl4ZWxzOiAyMDAsXG4gICAgLy8gICBjb250ZW50VG91Y2hTY3JvbGw6IHRydWVcbiAgICAvLyB9KTtcbiAgfTtcblxuICBjb25zdCBvblNlcmllc0NsaWNrID0gKCkgPT4ge1xuICAgIGlmICghc2VyaWVzTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKSkge1xuICAgICAgc2VyaWVzTGlzdC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKHNlcmllc0xpc3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIC0gd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2VyaWVzTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKSkge1xuICAgICAgc2VyaWVzTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uT3V0c2lkZUNsaWNrID0gKGV2dCkgPT4ge1xuICAgIGxldCB0YXJnZXQgPSBldnQudGFyZ2V0O1xuXG4gICAgaWYgKFxuICAgICAgIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGVsLWNob2ljZV9fYnJhbmQtY2hvaWNlJylcbiAgICAgICYmICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RlbC1jaG9pY2VfX2JyYW5kLWl0ZW0nKVxuICAgICAgJiYgIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGVsLWNob2ljZV9fYnJhbmQtbGlzdCcpXG4gICAgICAmJiBicmFuZExpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93JylcbiAgICApIHtcbiAgICAgIGJyYW5kTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kZWwtY2hvaWNlX19zZXJpZXMtY2hvaWNlJylcbiAgICAgICYmICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RlbC1jaG9pY2VfX3Nlcmllcy1pdGVtJylcbiAgICAgICYmICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RlbC1jaG9pY2VfX3Nlcmllcy1saXN0JylcbiAgICAgICYmIHNlcmllc0xpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93JylcbiAgICApIHtcbiAgICAgIHNlcmllc0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG1ha2VPcHRpb25Ob2RlID0gKGFycikgPT4ge1xuICAgIGxldCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICBhcnIuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgbGV0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IGl0ZW1bJ3RpdGxlJ107XG4gICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ21vZGVsLWNob2ljZV9fYnJhbmQtaXRlbScpO1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBpKTtcbiAgICAgIGkrKztcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuXG4gICAgICAvLyBsZXQgc2VyaWVzU2VsZWN0ID0gc2VyaWVzVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgLy8gc2VyaWVzU2VsZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgLy8gc2VyaWVzU2VsZWN0LnNldEF0dHJpYnV0ZSgnbmFtZScsIGl0ZW1bJ3RpdGxlJ10pO1xuXG4gICAgICAvLyBpdGVtLnNlcmllcy5mb3JFYWNoKChzZXJpZSkgPT4ge1xuICAgICAgLy8gICBsZXQgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgLy8gICBub2RlLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBzZXJpZVsndGl0bGUnXSk7XG4gICAgICAvLyAgIG5vZGUudGV4dENvbnRlbnQgPSBzZXJpZVsndGl0bGUnXTtcbiAgICAgIC8vICAgc2VyaWVzU2VsZWN0LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgLy8gfSk7XG5cbiAgICAgIC8vIHNlcmllc1dyYXBwZXIuYXBwZW5kQ2hpbGQoc2VyaWVzU2VsZWN0KTtcbiAgICB9KTtcblxuICAgIGJyYW5kTGlzdC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cblxuICAgIGxldCBmcmFnbWVudDEgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgbGV0IGogPSAwO1xuXG4gICAgYXJyLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGxldCBub2RlMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgbm9kZTEudGV4dENvbnRlbnQgPSBpdGVtWyd0aXRsZSddO1xuICAgICAgbm9kZTEuY2xhc3NMaXN0LmFkZCgnbW9kZWwtY2hvaWNlX19icmFuZC1vcHRpb24nKTtcbiAgICAgIG5vZGUxLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIGkpO1xuICAgICAgaisrO1xuICAgICAgZnJhZ21lbnQxLmFwcGVuZENoaWxkKG5vZGUxKTtcblxuICAgICAgLy8gbGV0IHNlcmllc1NlbGVjdCA9IHNlcmllc1RlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIC8vIHNlcmllc1NlbGVjdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIC8vIHNlcmllc1NlbGVjdC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBpdGVtWyd0aXRsZSddKTtcblxuICAgICAgLy8gaXRlbS5zZXJpZXMuZm9yRWFjaCgoc2VyaWUpID0+IHtcbiAgICAgIC8vICAgbGV0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIC8vICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgc2VyaWVbJ3RpdGxlJ10pO1xuICAgICAgLy8gICBub2RlLnRleHRDb250ZW50ID0gc2VyaWVbJ3RpdGxlJ107XG4gICAgICAvLyAgIHNlcmllc1NlbGVjdC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIC8vIH0pO1xuXG4gICAgICAvLyBzZXJpZXNXcmFwcGVyLmFwcGVuZENoaWxkKHNlcmllc1NlbGVjdCk7XG4gICAgfSk7XG5cbiAgICBicmFuZFNlbGVjdC5hcHBlbmRDaGlsZChmcmFnbWVudDEpO1xuXG5cblxuICAgIGNvbnN0IG9uQnJhbmRJdGVtQ2xpY2sgPSAoZXZ0KSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcbiAgICAgIGxldCBpZHggPSArdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuXG4gICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kZWwtY2hvaWNlX19icmFuZC1pdGVtJykpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRCcmFuZElkeCA9PT0gaWR4KSB7XG4gICAgICAgICAgYnJhbmRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50QnJhbmRJZHggIT09IGlkeCkge1xuICAgICAgICAgIHNlcmllc0xpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgICBsZXQgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgbGV0IGlkeCA9ICt0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG5cbiAgICAgICAgICBhcnJbaWR4XS5zZXJpZXMuZm9yRWFjaCgoc2VyaWUpID0+IHtcbiAgICAgICAgICAgIGxldCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSBzZXJpZVsndGl0bGUnXTtcbiAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnbW9kZWwtY2hvaWNlX19zZXJpZXMtaXRlbScpO1xuICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzZXJpZXNMaXN0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgICBjdXJyZW50QnJhbmRJZHggPSBpZHg7XG5cbiAgICAgICAgICBicmFuZEJ1dHRvbi50ZXh0Q29udGVudCA9IHRhcmdldC50ZXh0Q29udGVudDtcbiAgICAgICAgICBpZiAoIWJyYW5kQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgYnJhbmRCdXR0b24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VyaWVzQnV0dG9uLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgc2VyaWVzQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmFuZExpc3QuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb25CcmFuZENoYW5nZSA9IChldnQpID0+IHtcbiAgICAgIGN1cnJlbnRPcHRpb25JZHggPSBldnQudGFyZ2V0LnNlbGVjdGVkSW5kZXggLSAxO1xuICAgICAgc2VyaWVzU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICBsZXQgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IFwi0JLRi9Cx0YDQsNGC0Ywg0LjQtyDRgdC/0LjRgdC60LBcIjtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICcnKTtcblxuICAgICAgc2VyaWVzU2VsZWN0LmFwcGVuZENoaWxkKG5vZGUpO1xuXG4gICAgICBsZXQgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICAgIGlmIChzZXJpZXNTZWxlY3QuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgIHNlcmllc1NlbGVjdC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICB9XG5cblxuICAgICAgYXJyW2N1cnJlbnRPcHRpb25JZHhdLnNlcmllcy5mb3JFYWNoKChzZXJpZSkgPT4ge1xuICAgICAgICBsZXQgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBub2RlLnRleHRDb250ZW50ID0gc2VyaWVbJ3RpdGxlJ107XG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnbW9kZWwtY2hvaWNlX19zZXJpZXMtb3B0aW9uJyk7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHNlcmllc1NlbGVjdC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICAgIGJyYW5kQnV0dG9uLnRleHRDb250ZW50ID0gZXZ0LnRhcmdldC52YWx1ZTtcbiAgICAgIGlmICghYnJhbmRCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGJyYW5kQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb25TZXJpZXNJdGVtQ2xpY2sgPSAoZXZ0KSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcblxuICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGVsLWNob2ljZV9fc2VyaWVzLWl0ZW0nKSkge1xuICAgICAgICBzZXJpZXNCdXR0b24udGV4dENvbnRlbnQgPSB0YXJnZXQudGV4dENvbnRlbnQ7XG4gICAgICAgIGlmICghc2VyaWVzQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgIHNlcmllc0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VyaWVzTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG5cbiAgICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgICBsaW5rSHJlZiA9IHRhcmdldC50ZXh0Q29udGVudDtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBsaW5rSHJlZik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb25TZXJpZXNDaGFuZ2UgPSAoZXZ0KSA9PiB7XG4gICAgICBzZXJpZXNCdXR0b24udGV4dENvbnRlbnQgPSBldnQudGFyZ2V0LnZhbHVlO1xuICAgICAgaWYgKCFzZXJpZXNCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIHNlcmllc0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICBsaW5rSHJlZiA9IGV2dC50YXJnZXQudmFsdWU7XG4gICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIGxpbmtIcmVmKTtcbiAgICB9XG5cbiAgICAvL2xldCBzcGxpdHNEYXRhID0gYmFja2VuZC5sb2FkKGdldERhdGEpO1xuXG4gICAgLy9icmFuZFNlbGVjdC5hcHBlbmRDaGlsZChtYWtlT3B0aW9uTm9kZShzcGxpdHMpKTtcbiAgICAvL21ha2VPcHRpb25Ob2RlKHNwbGl0cyk7XG4gICAgLy9iYWNrZW5kLmxvYWQobWFrZU9wdGlvbk5vZGUpO1xuXG5cbiAgICAvLyBtYWtlU2VsZWN0KGJyYW5kQ2xhc3MpO1xuICAgIC8vIG1ha2VTZWxlY3Qoc2VyaWVzQ2xhc3MpO1xuXG4gICAgLy8galF1ZXJ5KGJyYW5kQ2xhc3MpLnNlbGVjdDIoJ29wZW4nKTtcbiAgICAvLyBqUXVlcnkoYnJhbmRDbGFzcykuc2VsZWN0MignY2xvc2UnKTtcblxuXG4gICAgLy8gY29uc3Qgc2VyaWVzU2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RlbC1jaG9pY2VfX3Nlcmllcy1zZWxlY3QnKTtcblxuXG4gICAgLy8gY29uc3QgaGlkZVNlcmllcyA9ICgpID0+IHtcbiAgICAvLyAgIHNlcmllc1NlbGVjdHMuZm9yRWFjaCgoc2VsZWN0KSA9PiB7XG4gICAgLy8gICAgIGlmICghc2VsZWN0LmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAvLyAgICAgICBzZWxlY3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgLy8gICAgICAgc2VsZWN0LnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfSlcbiAgICAvLyB9O1xuXG4gICAgLy8gY29uc3Qgc2hvd1NlcmllcyA9IChpZHgpID0+IHtcbiAgICAvLyAgIHNlcmllc1NlbGVjdHNbaWR4XS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAvLyAgIHNlcmllc1NlbGVjdHNbaWR4XS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Nlcmllcy1zZWxlY3QnKTtcbiAgICAvLyB9O1xuXG4gICAgLy8galF1ZXJ5KGJyYW5kQ2xhc3MpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgLy8gICBsZXQgaWR4ID0gK2pRdWVyeSgnLm1vZGVsLWNob2ljZV9fYnJhbmQtc2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpLmF0dHIoJ2RhdGEtaWQnKTtcblxuICAgIC8vICAgaGlkZVNlcmllcygpO1xuICAgIC8vICAgc2hvd1NlcmllcyhpZHggKyAxKTtcblxuICAgIC8vICAgalF1ZXJ5KCcjc2VyaWVzLXNlbGVjdCcpLnNlbGVjdDIoJ29wZW4nKTtcbiAgICAvLyAgIGpRdWVyeSgnI3Nlcmllcy1zZWxlY3QnKS5zZWxlY3QyKCdjbG9zZScpO1xuXG4gICAgLy8gICBqUXVlcnkoJy5tb2RlbC1jaG9pY2VfX2JyYW5kLXNlbGVjdCcpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgIC8vICAgalF1ZXJ5KCcubW9kZWwtY2hvaWNlX19zZXJpZXMtc2VsZWN0JykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgLy8gfSk7XG5cbiAgICAvLyBqUXVlcnkoc2VyaWVzQ2xhc3MpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgLy8gICBpZiAobGluay5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHtcbiAgICAvLyAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgIC8vICAgfVxuXG4gICAgLy8gICBsZXQgdmFsdWUgPSBqUXVlcnkoZXZ0LnRhcmdldCkuY2hpbGRyZW4oJ29wdGlvbjpzZWxlY3RlZCcpLnRleHQoKTtcbiAgICAvLyAgIGxpbmtIcmVmID0gdmFsdWU7XG5cblxuICAgIC8vICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBsaW5rSHJlZik7XG5cbiAgICAvLyAgIGpRdWVyeSgnLm1vZGVsLWNob2ljZV9fc2VyaWVzLXNlbGVjdCcpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgIC8vIH0pO1xuXG4gICAgLy9SZXNpemUuaW5pdCgpO1xuICAgIC8vUmVzaXplLmFkZExpc3RlbmVyKCk7XG5cbiAgICBicmFuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQnJhbmRDbGljayk7XG4gICAgc2VyaWVzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25TZXJpZXNDbGljayk7XG4gICAgYnJhbmRMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25CcmFuZEl0ZW1DbGljayk7XG4gICAgc2VyaWVzTGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uU2VyaWVzSXRlbUNsaWNrKTtcbiAgICBicmFuZFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkJyYW5kQ2hhbmdlKTtcbiAgICBzZXJpZXNTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25TZXJpZXNDaGFuZ2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uT3V0c2lkZUNsaWNrKTtcbiAgfTtcblxuICBiYWNrZW5kLmxvYWQobWFrZU9wdGlvbk5vZGUpO1xuXG59KSh3aW5kb3cuYmFja2VuZCwgd2luZG93Lm1ha2VTZWxlY3QsIHdpbmRvdy5SZXNpemUpO1xuIl19
