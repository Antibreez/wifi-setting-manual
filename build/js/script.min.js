lottie.loadAnimation({container:document.getElementById("animation"),renderer:"svg",loop:!0,autoplay:!0,path:"data.json"}),function(){var e="https://split.daichicloud.ru/brands/all",t="GET",s=200,n=300,i=function(e,t){var i=new XMLHttpRequest;return i.timeout=1e4,i.responseType="json",i.addEventListener("load",(function(){!function(e){return e.status<s||e.status>n}(i)?e(i.response):t("Данные не загрузились. Причина: "+i.status+" "+i.statusText)})),i.addEventListener("error",(function(){t("Произошла ошибка соединения")})),i.addEventListener("timeout",(function(){t("Запрос не успел выполниться за "+i.timeout+"мс")})),i},c=function(e){e.remove()},o=function(e){var t=document.createElement("div");t.style="z-index: 100; margin: 0 auto; text-align: center; background-color: red;",t.style.position="absolute",t.style.left=0,t.style.right=0,t.style.fontSize="30px",t.textContent=e,document.body.insertAdjacentElement("afterbegin",t),window.setTimeout(c,2e3,t)};window.backend={load:function(s,n){var c=i(s,n||o);c.open(t,e),c.send()}}}(),function(e){window.makeSelect=function(t){e(t).select2({minimumResultsForSearch:-1})}}(jQuery),function(){const e=document.querySelector(".model-choice__brand-select"),t=document.querySelectorAll(".model-choice__series-select");let s=-1;const n=e=>{e.classList.remove("select2-hidden-accessible"),e.removeAttribute("aria-hidden"),e.removeAttribute("tabindex")},i=e=>{e.classList.add("select2-hidden-accessible"),e.setAttribute("aria-hedden","true"),e.setAttribute("tabindex","-1")},c=()=>window.matchMedia("(max-width: 479px)").matches;let o=!c;const a=()=>{c()&&o&&(o=!1,n(e),-1!==s&&n(t[s]),d()),c()||o||(o=!0,i(e),-1!==s&&i(t[s]),l())},d=()=>{e.addEventListener("change",r)},l=()=>{e.removeEventListener("change",r)},r=e=>{-1!==s&&i(t[s]),s=e.target.selectedIndex,n(t[s])};window.Resize={addListener:()=>{window.addEventListener("resize",a)},init:()=>{c()&&(n(e),d())}}}(),function(e,t,s){let n="#";const i=document.querySelector(".model-choice__brand-list"),c=document.querySelector(".model-choice__brand-choice"),o=document.querySelector(".model-choice__series-list"),a=document.querySelector(".model-choice__series-choice"),d=document.querySelector(".model-choice__select-brand"),l=document.querySelector(".model-choice__select-series");let r=-1,m=-1;document.querySelector(".model-choice__series-wrapper"),document.querySelector("#series").content.querySelector(".model-choice__series-select");const u=document.querySelector(".model-choice__link"),h=()=>{i.classList.contains("show")?i.classList.contains("show")&&i.classList.remove("show"):i.classList.add("show")},L=()=>{o.classList.contains("show")?o.classList.contains("show")&&o.classList.remove("show"):o.classList.add("show")},_=e=>{let t=e.target;t.classList.contains("model-choice__brand-choice")||t.classList.contains("model-choice__brand-item")||t.classList.contains("model-choice__brand-list")||!i.classList.contains("show")||i.classList.remove("show"),t.classList.contains("model-choice__series-choice")||t.classList.contains("model-choice__series-item")||t.classList.contains("model-choice__series-list")||!o.classList.contains("show")||o.classList.remove("show")};e.load(e=>{let t=document.createDocumentFragment(),s=0;e.forEach(e=>{let n=document.createElement("li");n.textContent=e.title,n.classList.add("model-choice__brand-item"),n.setAttribute("data-id",s),s++,t.appendChild(n)}),i.appendChild(t);let b=document.createDocumentFragment();e.forEach(e=>{let t=document.createElement("option");t.textContent=e.title,t.classList.add("model-choice__brand-option"),t.setAttribute("data-id",s),b.appendChild(t)}),d.appendChild(b);c.addEventListener("click",h),a.addEventListener("click",L),i.addEventListener("click",t=>{let s=t.target,n=+s.getAttribute("data-id");if(s.classList.contains("model-choice__brand-item")&&(r===n&&i.classList.remove("show"),r!==n)){o.innerHTML="",a.textContent="Выбрать из списка",a.classList.remove("selected");let t=document.createDocumentFragment(),n=+s.getAttribute("data-id");e[n].series.forEach(e=>{let s=document.createElement("li");s.textContent=e.title,s.classList.add("model-choice__series-item"),t.appendChild(s)}),o.appendChild(t),r=n,c.textContent=s.textContent,c.classList.contains("selected")||c.classList.add("selected"),a.hasAttribute("disabled")&&a.removeAttribute("disabled"),i.classList.remove("show")}}),o.addEventListener("click",e=>{let t=e.target;t.classList.contains("model-choice__series-item")&&(a.textContent=t.textContent,a.classList.contains("selected")||a.classList.add("selected"),o.classList.remove("show"),u.classList.remove("disabled"),n=t.textContent,u.setAttribute("href",n))}),d.addEventListener("change",t=>{m=t.target.selectedIndex-1,l.innerHTML="",a.textContent="Выбрать из списка",a.classList.remove("selected");let s=document.createElement("option");s.textContent="Выбрать из списка",s.setAttribute("disabled",""),s.setAttribute("selected",""),l.appendChild(s);let n=document.createDocumentFragment();l.hasAttribute("disabled")&&l.removeAttribute("disabled"),e[m].series.forEach(e=>{let t=document.createElement("option");t.textContent=e.title,t.classList.add("model-choice__series-option"),n.appendChild(t)}),l.appendChild(n),c.textContent=t.target.value,c.classList.contains("selected")||c.classList.add("selected")}),l.addEventListener("change",e=>{a.textContent=e.target.value,a.classList.contains("selected")||a.classList.add("selected"),u.classList.remove("disabled"),n=e.target.value,u.setAttribute("href",n)}),document.addEventListener("mousedown",_)})}(window.backend,window.makeSelect,window.Resize);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGlvbi5qcyIsImJhY2tlbmQuanMiLCJzZWxlY3QuanMiLCJyZXNpemUuanMiLCJjaG9pY2UuanMiXSwibmFtZXMiOlsibG90dGllIiwibG9hZEFuaW1hdGlvbiIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXJlciIsImxvb3AiLCJhdXRvcGxheSIsInBhdGgiLCJSZXFVcmwiLCJSZXFNZXRob2QiLCJSZXFTdGF0dXMiLCJjcmVhdGVSZXF1ZXN0Iiwib25Mb2FkIiwib25FcnJvciIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwidGltZW91dCIsInJlc3BvbnNlVHlwZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGF0dXMiLCJpc0Vycm9yU3RhdHVzIiwicmVzcG9uc2UiLCJzdGF0dXNUZXh0IiwicmVtb3ZlRWxlbWVudCIsImVsZW1lbnQiLCJyZW1vdmUiLCJvbkFueUVycm9yIiwibWVzc2FnZSIsIm5vZGUiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJwb3NpdGlvbiIsImxlZnQiLCJyaWdodCIsImZvbnRTaXplIiwidGV4dENvbnRlbnQiLCJib2R5IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Iiwid2luZG93Iiwic2V0VGltZW91dCIsImJhY2tlbmQiLCJsb2FkIiwicmVxIiwib3BlbiIsInNlbmQiLCIkIiwibWFrZVNlbGVjdCIsImVsZW1lbnRDbGFzcyIsInNlbGVjdDIiLCJtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaCIsImpRdWVyeSIsImJyYW5kU2VsZWN0IiwicXVlcnlTZWxlY3RvciIsInNlcmllc1NlbGVjdHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaWR4IiwicmVtb3ZlQ2xhc3MiLCJpdGVtIiwiY2xhc3NMaXN0IiwicmVtb3ZlQXR0cmlidXRlIiwiYWRkQ2xhc3MiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJpc01vYmlsZSIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiaXNPdXRPZk1vYmlsZSIsIm9uUmVzaXplIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsIm9uQnJhbmRDaGFuZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0Iiwic2VsZWN0ZWRJbmRleCIsIlJlc2l6ZSIsImFkZExpc3RlbmVyIiwiaW5pdCIsImxpbmtIcmVmIiwiYnJhbmRMaXN0IiwiYnJhbmRCdXR0b24iLCJzZXJpZXNMaXN0Iiwic2VyaWVzQnV0dG9uIiwic2VyaWVzU2VsZWN0IiwiY3VycmVudEJyYW5kSWR4IiwiY3VycmVudE9wdGlvbklkeCIsImNvbnRlbnQiLCJsaW5rIiwib25CcmFuZENsaWNrIiwiY29udGFpbnMiLCJvblNlcmllc0NsaWNrIiwib25PdXRzaWRlQ2xpY2siLCJhcnIiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJpIiwiZm9yRWFjaCIsImFwcGVuZENoaWxkIiwiZnJhZ21lbnQxIiwibm9kZTEiLCJnZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJzZXJpZXMiLCJzZXJpZSIsImhhc0F0dHJpYnV0ZSIsInZhbHVlIl0sIm1hcHBpbmdzIjoiQUFDQUEsT0FBQUMsY0FBQSxDQUNBQyxVQUFBQyxTQUFBQyxlQUFBLGFBQ0FDLFNBQUEsTUFDQUMsTUFBQSxFQUNBQyxVQUFBLEVBQ0FDLEtBQUEsY0NKQSxXQUNBLElBQUFDLEVBQ0EsMENBSUFDLEVBQ0EsTUFJQUMsRUFDQSxJQURBQSxFQUVBLElBVUFDLEVBQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUFBQyxFQUFBLElBQUFDLGVBc0JBLE9BcEJBRCxFQUFBRSxRQVZBLElBV0FGLEVBQUFHLGFBQUEsT0FFQUgsRUFBQUksaUJBQUEsUUFBQSxZQVhBLFNBQUFKLEdBQ0EsT0FBQUEsRUFBQUssT0FBQVQsR0FDQUksRUFBQUssT0FBQVQsRUFVQVUsQ0FBQU4sR0FLQUYsRUFBQUUsRUFBQU8sVUFKQVIsRUFBQSxtQ0FBQUMsRUFBQUssT0FBQSxJQUFBTCxFQUFBUSxlQU9BUixFQUFBSSxpQkFBQSxT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YUFBQSxXQUFBLElBQ0FsQyxFQUFBa0MsYUFBQSxXQUFBLElBRUFxQixFQUFBYyxZQUFBckUsR0FFQSxJQUFBaUUsRUFBQTNGLFNBQUE0Rix5QkFFQVgsRUFBQXFCLGFBQUEsYUFDQXJCLEVBQUF4QixnQkFBQSxZQUlBaUMsRUFBQVAsR0FBQWlCLE9BQUFOLFFBQUFPLElBQ0EsSUFBQTNFLEVBQUExQixTQUFBMkIsY0FBQSxVQUNBRCxFQUFBTyxZQUFBb0UsRUFBQSxNQUNBM0UsRUFBQThCLFVBQUFHLElBQUEsK0JBQ0FnQyxFQUFBSSxZQUFBckUsS0FHQXVELEVBQUFjLFlBQUFKLEdBRUFiLEVBQUE3QyxZQUFBcUMsRUFBQUMsT0FBQWdDLE1BQ0F6QixFQUFBdEIsVUFBQStCLFNBQUEsYUFDQVQsRUFBQXRCLFVBQUFHLElBQUEsY0FrR0FzQixFQUFBakUsaUJBQUEsU0E3RUFzRCxJQUNBVSxFQUFBL0MsWUFBQXFDLEVBQUFDLE9BQUFnQyxNQUNBdkIsRUFBQXhCLFVBQUErQixTQUFBLGFBQ0FQLEVBQUF4QixVQUFBRyxJQUFBLFlBR0EwQixFQUFBN0IsVUFBQWpDLE9BQUEsWUFDQXFELEVBQUFOLEVBQUFDLE9BQUFnQyxNQUNBbEIsRUFBQXpCLGFBQUEsT0FBQWdCLEtBc0VBNUUsU0FBQWdCLGlCQUFBLFlBQUF5RSxLQXRVQSxDQTJVQXJELE9BQUFFLFFBQUFGLE9BQUFRLFdBQUFSLE9BQUFxQyIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgbG90dGllLmxvYWRBbmltYXRpb24oe1xuICAgIGNvbnRhaW5lcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FuaW1hdGlvbicpLCAvLyB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIGFuaW1hdGlvblxuICAgIHJlbmRlcmVyOiAnc3ZnJyxcbiAgICBsb29wOiB0cnVlLFxuICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgIHBhdGg6ICdkYXRhLmpzb24nIC8vIHRoZSBwYXRoIHRvIHRoZSBhbmltYXRpb24ganNvblxuICB9KTtcbn0pKCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBSZXFVcmwgPSB7XG4gICAgR0VUOiAnaHR0cHM6Ly9zcGxpdC5kYWljaGljbG91ZC5ydS9icmFuZHMvYWxsJyxcbiAgICAvL1BPU1Q6ICdodHRwczovL2pzLmR1bXAuYWNhZGVteS9rZWtzdGFncmFtJ1xuICB9O1xuXG4gIHZhciBSZXFNZXRob2QgPSB7XG4gICAgR0VUOiAnR0VUJyxcbiAgICBQT1NUOiAnUE9TVCdcbiAgfTtcblxuICB2YXIgUmVxU3RhdHVzID0ge1xuICAgIE9LOiAyMDAsXG4gICAgTVVMVElQTEVfQ0hPSUNFUzogMzAwLFxuICB9O1xuXG4gIHZhciBUSU1FT1VUID0gMTAwMDA7XG5cbiAgdmFyIGlzRXJyb3JTdGF0dXMgPSBmdW5jdGlvbiAoeGhyKSB7XG4gICAgcmV0dXJuIHhoci5zdGF0dXMgPCBSZXFTdGF0dXMuT0tcbiAgICAgIHx8IHhoci5zdGF0dXMgPiBSZXFTdGF0dXMuTVVMVElQTEVfQ0hPSUNFUztcbiAgfTtcblxuICB2YXIgY3JlYXRlUmVxdWVzdCA9IGZ1bmN0aW9uIChvbkxvYWQsIG9uRXJyb3IpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICB4aHIudGltZW91dCA9IFRJTUVPVVQ7XG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcblxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzRXJyb3JTdGF0dXMoeGhyKSkge1xuICAgICAgICBvbkVycm9yKCfQlNCw0L3QvdGL0LUg0L3QtSDQt9Cw0LPRgNGD0LfQuNC70LjRgdGMLiDQn9GA0LjRh9C40L3QsDogJyArIHhoci5zdGF0dXMgKyAnICcgKyB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgb25Mb2FkKHhoci5yZXNwb25zZSk7XG4gICAgfSk7XG5cbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICBvbkVycm9yKCfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINGB0L7QtdC00LjQvdC10L3QuNGPJyk7XG4gICAgfSk7XG5cbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIG9uRXJyb3IoJ9CX0LDQv9GA0L7RgSDQvdC1INGD0YHQv9C10Lsg0LLRi9C/0L7Qu9C90LjRgtGM0YHRjyDQt9CwICcgKyB4aHIudGltZW91dCArICfQvNGBJyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4geGhyO1xuICB9O1xuXG4gIHZhciByZW1vdmVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnJlbW92ZSgpO1xuICB9O1xuXG4gIHZhciBvbkFueUVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5vZGUuc3R5bGUgPSAnei1pbmRleDogMTAwOyBtYXJnaW46IDAgYXV0bzsgdGV4dC1hbGlnbjogY2VudGVyOyBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7JztcbiAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBub2RlLnN0eWxlLmxlZnQgPSAwO1xuICAgIG5vZGUuc3R5bGUucmlnaHQgPSAwO1xuICAgIG5vZGUuc3R5bGUuZm9udFNpemUgPSAnMzBweCc7XG5cbiAgICBub2RlLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIG5vZGUpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KHJlbW92ZUVsZW1lbnQsIDIwMDAsIG5vZGUpO1xuICB9O1xuXG4gIHdpbmRvdy5iYWNrZW5kID0ge1xuICAgIGxvYWQ6IGZ1bmN0aW9uIChvbkxvYWQsIG9uRXJyb3IpIHtcbiAgICAgIHZhciByZXEgPSBjcmVhdGVSZXF1ZXN0KG9uTG9hZCwgb25FcnJvciB8fCBvbkFueUVycm9yKTtcbiAgICAgIHJlcS5vcGVuKFJlcU1ldGhvZC5HRVQsIFJlcVVybC5HRVQpO1xuICAgICAgcmVxLnNlbmQoKTtcbiAgICB9LFxuXG4gICAgLy8gc2F2ZTogZnVuY3Rpb24gKGRhdGEsIG9uTG9hZCwgb25FcnJvcikge1xuICAgIC8vICAgdmFyIHJlcSA9IGNyZWF0ZVJlcXVlc3Qob25Mb2FkLCBvbkVycm9yKTtcbiAgICAvLyAgIHJlcS5vcGVuKFJlcU1ldGhvZC5QT1NULCBSZXFVcmwuUE9TVCk7XG4gICAgLy8gICByZXEuc2VuZChkYXRhKTtcbiAgICAvLyB9XG4gIH07XG59KSgpO1xuXG5cblxuXG4iLCIvLyAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbi8vICAgLy8gJCgnLm1vZGVsLWNob2ljZV9fYnJhbmQtc2VsZWN0Jykuc2VsZWN0Mih7XG4vLyAgIC8vICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IC0xLFxuLy8gICAvLyB9KTtcblxuLy8gICAvLyAkKCcubW9kZWwtY2hvaWNlX19zZXJpZXMtc2VsZWN0Jykuc2VsZWN0Mih7XG4vLyAgIC8vICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IC0xLFxuLy8gICAvLyB9KTtcblxuLy8gICBmdW5jdGlvbiBtYWtlU2VsZWN0KGVsZW1lbnQpIHtcbi8vICAgICAkKGVsZW1lbnQpLnNlbGVjdDIoe1xuLy8gICAgICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IC0xLFxuLy8gICAgIH0pO1xuLy8gICB9O1xuXG5cblxuXG4vLyAgIHdpbmRvdy5tYWtlU2VsZWN0ID0gbWFrZVNlbGVjdDtcblxuLy8gICBjb25zb2xlLmxvZyh3aW5kb3cubWFrZVNlbGVjdCk7XG5cbi8vIH0pO1xuXG5cbihmdW5jdGlvbigkKSB7XG4gIGZ1bmN0aW9uIG1ha2VTZWxlY3QoZWxlbWVudENsYXNzKSB7XG4gICAgJChlbGVtZW50Q2xhc3MpLnNlbGVjdDIoe1xuICAgICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IC0xLFxuICAgIH0pO1xuICB9O1xuXG4gIHdpbmRvdy5tYWtlU2VsZWN0ID0gbWFrZVNlbGVjdDtcbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICBjb25zdCBicmFuZFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RlbC1jaG9pY2VfX2JyYW5kLXNlbGVjdCcpO1xuICBjb25zdCBzZXJpZXNTZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGVsLWNob2ljZV9fc2VyaWVzLXNlbGVjdCcpO1xuICBjb25zdCBoaWRpbmdDbGFzcyA9ICdzZWxlY3QyLWhpZGRlbi1hY2Nlc3NpYmxlJztcblxuICBsZXQgaWR4ID0gLTE7XG5cbiAgY29uc3QgcmVtb3ZlQ2xhc3MgPSAoaXRlbSkgPT4ge1xuICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShoaWRpbmdDbGFzcyk7XG4gICAgaXRlbS5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG4gICAgaXRlbS5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gIH07XG5cbiAgY29uc3QgYWRkQ2xhc3MgPSAoaXRlbSkgPT4ge1xuICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChoaWRpbmdDbGFzcyk7XG4gICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGVkZGVuJywgJ3RydWUnKTtcbiAgICBpdGVtLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgfTtcblxuICBjb25zdCBpc01vYmlsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gIHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA0NzlweCknKS5tYXRjaGVzO1xuICB9O1xuXG4gIGxldCBpc091dE9mTW9iaWxlID0gIWlzTW9iaWxlO1xuXG4gIGNvbnN0IG9uUmVzaXplID0gKCkgPT4ge1xuICAgIGlmIChpc01vYmlsZSgpICYmIGlzT3V0T2ZNb2JpbGUpIHtcbiAgICAgIGlzT3V0T2ZNb2JpbGUgPSBmYWxzZTtcblxuICAgICAgcmVtb3ZlQ2xhc3MoYnJhbmRTZWxlY3QpO1xuXG4gICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICByZW1vdmVDbGFzcyhzZXJpZXNTZWxlY3RzW2lkeF0pO1xuICAgICAgfVxuXG4gICAgICBhZGRFdmVudExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIGlmICghaXNNb2JpbGUoKSAmJiAhaXNPdXRPZk1vYmlsZSkge1xuICAgICAgaXNPdXRPZk1vYmlsZSA9IHRydWU7XG5cbiAgICAgIGFkZENsYXNzKGJyYW5kU2VsZWN0KTtcblxuICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgYWRkQ2xhc3Moc2VyaWVzU2VsZWN0c1tpZHhdKTtcbiAgICAgIH1cblxuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBhZGRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBicmFuZFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkJyYW5kQ2hhbmdlKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBicmFuZFNlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkJyYW5kQ2hhbmdlKTtcbiAgfTtcblxuICBjb25zdCBvbkJyYW5kQ2hhbmdlID0gKGV2dCkgPT4ge1xuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICBhZGRDbGFzcyhzZXJpZXNTZWxlY3RzW2lkeF0pO1xuICAgIH1cblxuICAgIGlkeCA9IGV2dC50YXJnZXQuc2VsZWN0ZWRJbmRleDtcblxuICAgIHJlbW92ZUNsYXNzKHNlcmllc1NlbGVjdHNbaWR4XSk7XG4gIH07XG5cbiAgXG5cbiAgd2luZG93LlJlc2l6ZSA9IHtcbiAgICBhZGRMaXN0ZW5lcjogKCkgPT4ge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbiAgICB9LFxuXG4gICAgaW5pdDogKCkgPT4ge1xuICAgICAgaWYgKGlzTW9iaWxlKCkpIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoYnJhbmRTZWxlY3QpO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVycygpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKGJhY2tlbmQsIG1ha2VTZWxlY3QsIFJlc2l6ZSkge1xuICAvLyBjb25zdCBzcGxpdHMgPSBbXG4gIC8vICAge1xuICAvLyAgICAgXCJpZFwiOjcsXG4gIC8vICAgICBcInRpdGxlXCI6XCJBeGlvbWFcIixcbiAgLy8gICAgIFwic2VyaWVzXCI6W1xuICAvLyAgICAgICB7XG4gIC8vICAgICAgICAgXCJpZFwiOjYzLFxuICAvLyAgICAgICAgIFwidGl0bGVcIjpcIkFTWF9BXCJcbiAgLy8gICAgICAgfSxcbiAgLy8gICAgICAge1xuICAvLyAgICAgICAgIFwiaWRcIjo2MixcbiAgLy8gICAgICAgICBcInRpdGxlXCI6XCJBU1hfQVpcIlxuICAvLyAgICAgICB9XG4gIC8vICAgICBdXG4gIC8vICAgfSxcbiAgLy8gICB7XCJpZFwiOjYsXCJ0aXRsZVwiOlwiRGFpY2hpXCIsXCJzZXJpZXNcIjpbe1wiaWRcIjo0NSxcInRpdGxlXCI6XCJDYXJib24gREFfRFZRXCJ9LHtcImlkXCI6NDYsXCJ0aXRsZVwiOlwiRXZlcmVzdCBEQV9FVlFcIn0se1wiaWRcIjo0MyxcInRpdGxlXCI6XCJQZWFrIERBX0FWUVNcIn0se1wiaWRcIjo0MixcInRpdGxlXCI6XCJYLXRyZW1lIFBlYWsgREFfQVZRU1wifV19LFxuICAvLyAgIHtcImlkXCI6MSxcInRpdGxlXCI6XCJEYWlraW5cIixcInNlcmllc1wiOlt7XCJpZFwiOjExLFwidGl0bGVcIjpcIkNvbWZvcmEgRlRYLUpcXC9HVlwifSx7XCJpZFwiOjI2LFwidGl0bGVcIjpcIkNvbWZvcmEgRlRYUC1LM1wifSx7XCJpZFwiOjI3LFwidGl0bGVcIjpcIkNvbWZvcmEgRlRYUC1MXCJ9LHtcImlkXCI6MjgsXCJ0aXRsZVwiOlwiQ29tZm9yYSBGVFhQLU1cIn0se1wiaWRcIjoyMyxcInRpdGxlXCI6XCJFbXVyYSBGVFhHLUxcIn0se1wiaWRcIjoxOCxcInRpdGxlXCI6XCJFbXVyYSBGVFhKLU1cIn0se1wiaWRcIjoyMCxcInRpdGxlXCI6XCJGTFhTLUJcIn0se1wiaWRcIjoxNixcInRpdGxlXCI6XCJGVFhCLUJcIn0se1wiaWRcIjo2NSxcInRpdGxlXCI6XCJGVFhTLUVcIn0se1wiaWRcIjo2NCxcInRpdGxlXCI6XCJGVFhTLUpcXC9HXCJ9LHtcImlkXCI6MjEsXCJ0aXRsZVwiOlwiRlZYTS1GXCJ9LHtcImlkXCI6MjIsXCJ0aXRsZVwiOlwiRlZYUy1GXCJ9LHtcImlkXCI6MTksXCJ0aXRsZVwiOlwiTmV4dXJhIEZWWEctS1wifSx7XCJpZFwiOjI0LFwidGl0bGVcIjpcIlBlcmZlcmEgRlRYTS1OXCJ9LHtcImlkXCI6MjUsXCJ0aXRsZVwiOlwiUGVyZmVyYSBGVFhTLUtcIn0se1wiaWRcIjoxLFwidGl0bGVcIjpcIlNlbnNpcmEgRlRYQi1DXCJ9XX0sXG4gIC8vICAge1wiaWRcIjoyLFwidGl0bGVcIjpcIktlbnRhdHN1XCIsXCJzZXJpZXNcIjpbe1wiaWRcIjo0OSxcInRpdGxlXCI6XCJCcmF2byAgS1NHQl9IRkFOXCJ9LHtcImlkXCI6NTAsXCJ0aXRsZVwiOlwiQnJhdm8gIEtTR0JBX0haQU5cIn0se1wiaWRcIjo1NixcInRpdGxlXCI6XCJLTUdCQV9IWkFOXCJ9LHtcImlkXCI6NTcsXCJ0aXRsZVwiOlwiS01HQkJfSFpBTlwifSx7XCJpZFwiOjUyLFwidGl0bGVcIjpcIlRlYW0gIEtTR1RfSFpBTlwifSx7XCJpZFwiOjQ3LFwidGl0bGVcIjpcIlRpdGFuIEdlbmVzaXMgS1NHWFwifSx7XCJpZFwiOjUxLFwidGl0bGVcIjpcIlR1cmluIEtTR1VfSFpBTlwifV19LFxuICAvLyAgIHtcImlkXCI6OCxcInRpdGxlXCI6XCJNaWRlYVwiLFwic2VyaWVzXCI6W3tcImlkXCI6NjEsXCJ0aXRsZVwiOlwiQmxhbmMgTVNNQVwifSx7XCJpZFwiOjYwLFwidGl0bGVcIjpcIkJsYW5jIE1TTUEgRVJQIChNQSlcIn0se1wiaWRcIjo1OSxcInRpdGxlXCI6XCJNaXNzaW9uIE1TTUIgKE1CKVwifSx7XCJpZFwiOjU4LFwidGl0bGVcIjpcIlVsdGltYXRlIENvbWZvcnQgTVNNVCAoTVQpXCJ9XX1dO1xuXG4gIGxldCBsaW5rSHJlZiA9ICcjJztcblxuICBjb25zdCBicmFuZENsYXNzID0gJy5tb2RlbC1jaG9pY2VfX2JyYW5kLXNlbGVjdCc7XG4gIGNvbnN0IHNlcmllc0NsYXNzID0gJy5tb2RlbC1jaG9pY2VfX3Nlcmllcy1zZWxlY3QnO1xuXG4gIGNvbnN0IGJyYW5kTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RlbC1jaG9pY2VfX2JyYW5kLWxpc3QnKTtcbiAgY29uc3QgYnJhbmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kZWwtY2hvaWNlX19icmFuZC1jaG9pY2UnKTtcbiAgY29uc3Qgc2VyaWVzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RlbC1jaG9pY2VfX3Nlcmllcy1saXN0Jyk7XG4gIGNvbnN0IHNlcmllc0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RlbC1jaG9pY2VfX3Nlcmllcy1jaG9pY2UnKTtcbiAgY29uc3QgYnJhbmRTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kZWwtY2hvaWNlX19zZWxlY3QtYnJhbmQnKTtcbiAgY29uc3Qgc2VyaWVzU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGVsLWNob2ljZV9fc2VsZWN0LXNlcmllcycpO1xuXG4gIGxldCBjdXJyZW50QnJhbmRJZHggPSAtMTtcbiAgbGV0IGN1cnJlbnRPcHRpb25JZHggPSAtMTtcblxuICAvL2NvbnN0IGJyYW5kU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGVsLWNob2ljZV9fYnJhbmQtc2VsZWN0Jyk7XG4gIGNvbnN0IHNlcmllc1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kZWwtY2hvaWNlX19zZXJpZXMtd3JhcHBlcicpO1xuICBjb25zdCBzZXJpZXNUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZXJpZXMnKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RlbC1jaG9pY2VfX3Nlcmllcy1zZWxlY3QnKTtcblxuICBjb25zdCBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGVsLWNob2ljZV9fbGluaycpO1xuXG4gIGNvbnN0IG9uQnJhbmRDbGljayA9ICgpID0+IHtcbiAgICBpZiAoIWJyYW5kTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKSkge1xuICAgICAgYnJhbmRMaXN0LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoYnJhbmRMaXN0LmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpKSB7XG4gICAgICBicmFuZExpc3QuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgIH1cbiAgICAvLyBqUXVlcnkoJy5tb2RlbC1jaG9pY2VfX2JyYW5kLWxpc3QnKS5tQ3VzdG9tU2Nyb2xsYmFyKHtcbiAgICAvLyAgIHNldEhlaWdodDogMTg5LFxuICAgIC8vICAgYXV0b0hpZGVTY3JvbGxiYXI6IGZhbHNlLFxuICAgIC8vICAgdGhlbWU6ICdkYXJrJyxcbiAgICAvLyAgIG1vdXNlV2hlZWxQaXhlbHM6IDIwMCxcbiAgICAvLyAgIGNvbnRlbnRUb3VjaFNjcm9sbDogdHJ1ZVxuICAgIC8vIH0pO1xuICB9O1xuXG4gIGNvbnN0IG9uU2VyaWVzQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKCFzZXJpZXNMaXN0LmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpKSB7XG4gICAgICBzZXJpZXNMaXN0LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcblxuICAgICAgLy8gY29uc29sZS5sb2coc2VyaWVzTGlzdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gLSB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZXJpZXNMaXN0LmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpKSB7XG4gICAgICBzZXJpZXNMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb25PdXRzaWRlQ2xpY2sgPSAoZXZ0KSA9PiB7XG4gICAgbGV0IHRhcmdldCA9IGV2dC50YXJnZXQ7XG5cbiAgICBpZiAoXG4gICAgICAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kZWwtY2hvaWNlX19icmFuZC1jaG9pY2UnKVxuICAgICAgJiYgIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGVsLWNob2ljZV9fYnJhbmQtaXRlbScpXG4gICAgICAmJiAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kZWwtY2hvaWNlX19icmFuZC1saXN0JylcbiAgICAgICYmIGJyYW5kTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKVxuICAgICkge1xuICAgICAgYnJhbmRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RlbC1jaG9pY2VfX3Nlcmllcy1jaG9pY2UnKVxuICAgICAgJiYgIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGVsLWNob2ljZV9fc2VyaWVzLWl0ZW0nKVxuICAgICAgJiYgIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGVsLWNob2ljZV9fc2VyaWVzLWxpc3QnKVxuICAgICAgJiYgc2VyaWVzTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKVxuICAgICkge1xuICAgICAgc2VyaWVzTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbWFrZU9wdGlvbk5vZGUgPSAoYXJyKSA9PiB7XG4gICAgbGV0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIGxldCBpID0gMDtcblxuICAgIGFyci5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBsZXQgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBub2RlLnRleHRDb250ZW50ID0gaXRlbVsndGl0bGUnXTtcbiAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnbW9kZWwtY2hvaWNlX19icmFuZC1pdGVtJyk7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIGkpO1xuICAgICAgaSsrO1xuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG5cbiAgICAgIC8vIGxldCBzZXJpZXNTZWxlY3QgPSBzZXJpZXNUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAvLyBzZXJpZXNTZWxlY3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAvLyBzZXJpZXNTZWxlY3Quc2V0QXR0cmlidXRlKCduYW1lJywgaXRlbVsndGl0bGUnXSk7XG5cbiAgICAgIC8vIGl0ZW0uc2VyaWVzLmZvckVhY2goKHNlcmllKSA9PiB7XG4gICAgICAvLyAgIGxldCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAvLyAgIG5vZGUuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHNlcmllWyd0aXRsZSddKTtcbiAgICAgIC8vICAgbm9kZS50ZXh0Q29udGVudCA9IHNlcmllWyd0aXRsZSddO1xuICAgICAgLy8gICBzZXJpZXNTZWxlY3QuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAvLyB9KTtcblxuICAgICAgLy8gc2VyaWVzV3JhcHBlci5hcHBlbmRDaGlsZChzZXJpZXNTZWxlY3QpO1xuICAgIH0pO1xuXG4gICAgYnJhbmRMaXN0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuXG4gICAgbGV0IGZyYWdtZW50MSA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBsZXQgaiA9IDA7XG5cbiAgICBhcnIuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgbGV0IG5vZGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBub2RlMS50ZXh0Q29udGVudCA9IGl0ZW1bJ3RpdGxlJ107XG4gICAgICBub2RlMS5jbGFzc0xpc3QuYWRkKCdtb2RlbC1jaG9pY2VfX2JyYW5kLW9wdGlvbicpO1xuICAgICAgbm9kZTEuc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgaSk7XG4gICAgICBqKys7XG4gICAgICBmcmFnbWVudDEuYXBwZW5kQ2hpbGQobm9kZTEpO1xuXG4gICAgICAvLyBsZXQgc2VyaWVzU2VsZWN0ID0gc2VyaWVzVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgLy8gc2VyaWVzU2VsZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgLy8gc2VyaWVzU2VsZWN0LnNldEF0dHJpYnV0ZSgnbmFtZScsIGl0ZW1bJ3RpdGxlJ10pO1xuXG4gICAgICAvLyBpdGVtLnNlcmllcy5mb3JFYWNoKChzZXJpZSkgPT4ge1xuICAgICAgLy8gICBsZXQgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgLy8gICBub2RlLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBzZXJpZVsndGl0bGUnXSk7XG4gICAgICAvLyAgIG5vZGUudGV4dENvbnRlbnQgPSBzZXJpZVsndGl0bGUnXTtcbiAgICAgIC8vICAgc2VyaWVzU2VsZWN0LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgLy8gfSk7XG5cbiAgICAgIC8vIHNlcmllc1dyYXBwZXIuYXBwZW5kQ2hpbGQoc2VyaWVzU2VsZWN0KTtcbiAgICB9KTtcblxuICAgIGJyYW5kU2VsZWN0LmFwcGVuZENoaWxkKGZyYWdtZW50MSk7XG5cblxuXG4gICAgY29uc3Qgb25CcmFuZEl0ZW1DbGljayA9IChldnQpID0+IHtcbiAgICAgIGxldCB0YXJnZXQgPSBldnQudGFyZ2V0O1xuICAgICAgbGV0IGlkeCA9ICt0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG5cbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RlbC1jaG9pY2VfX2JyYW5kLWl0ZW0nKSkge1xuICAgICAgICBpZiAoY3VycmVudEJyYW5kSWR4ID09PSBpZHgpIHtcbiAgICAgICAgICBicmFuZExpc3QuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRCcmFuZElkeCAhPT0gaWR4KSB7XG4gICAgICAgICAgc2VyaWVzTGlzdC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICAgIHNlcmllc0J1dHRvbi50ZXh0Q29udGVudCA9ICfQktGL0LHRgNCw0YLRjCDQuNC3INGB0L/QuNGB0LrQsCc7XG4gICAgICAgICAgc2VyaWVzQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG5cbiAgICAgICAgICBsZXQgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgbGV0IGlkeCA9ICt0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG5cbiAgICAgICAgICBhcnJbaWR4XS5zZXJpZXMuZm9yRWFjaCgoc2VyaWUpID0+IHtcbiAgICAgICAgICAgIGxldCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSBzZXJpZVsndGl0bGUnXTtcbiAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnbW9kZWwtY2hvaWNlX19zZXJpZXMtaXRlbScpO1xuICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzZXJpZXNMaXN0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgICBjdXJyZW50QnJhbmRJZHggPSBpZHg7XG5cbiAgICAgICAgICBicmFuZEJ1dHRvbi50ZXh0Q29udGVudCA9IHRhcmdldC50ZXh0Q29udGVudDtcbiAgICAgICAgICBpZiAoIWJyYW5kQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgYnJhbmRCdXR0b24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VyaWVzQnV0dG9uLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgc2VyaWVzQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmFuZExpc3QuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb25CcmFuZENoYW5nZSA9IChldnQpID0+IHtcbiAgICAgIGN1cnJlbnRPcHRpb25JZHggPSBldnQudGFyZ2V0LnNlbGVjdGVkSW5kZXggLSAxO1xuICAgICAgc2VyaWVzU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICBzZXJpZXNCdXR0b24udGV4dENvbnRlbnQgPSAn0JLRi9Cx0YDQsNGC0Ywg0LjQtyDRgdC/0LjRgdC60LAnO1xuICAgICAgc2VyaWVzQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG5cbiAgICAgIGxldCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBub2RlLnRleHRDb250ZW50ID0gXCLQktGL0LHRgNCw0YLRjCDQuNC3INGB0L/QuNGB0LrQsFwiO1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJycpO1xuXG4gICAgICBzZXJpZXNTZWxlY3QuYXBwZW5kQ2hpbGQobm9kZSk7XG5cbiAgICAgIGxldCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgICAgaWYgKHNlcmllc1NlbGVjdC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgc2VyaWVzU2VsZWN0LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuXG4gICAgICBhcnJbY3VycmVudE9wdGlvbklkeF0uc2VyaWVzLmZvckVhY2goKHNlcmllKSA9PiB7XG4gICAgICAgIGxldCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSBzZXJpZVsndGl0bGUnXTtcbiAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdtb2RlbC1jaG9pY2VfX3Nlcmllcy1vcHRpb24nKTtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICB9KTtcblxuICAgICAgc2VyaWVzU2VsZWN0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgICAgYnJhbmRCdXR0b24udGV4dENvbnRlbnQgPSBldnQudGFyZ2V0LnZhbHVlO1xuICAgICAgaWYgKCFicmFuZEJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgYnJhbmRCdXR0b24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBvblNlcmllc0l0ZW1DbGljayA9IChldnQpID0+IHtcbiAgICAgIGxldCB0YXJnZXQgPSBldnQudGFyZ2V0O1xuXG4gICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kZWwtY2hvaWNlX19zZXJpZXMtaXRlbScpKSB7XG4gICAgICAgIHNlcmllc0J1dHRvbi50ZXh0Q29udGVudCA9IHRhcmdldC50ZXh0Q29udGVudDtcbiAgICAgICAgaWYgKCFzZXJpZXNCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgc2VyaWVzQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXJpZXNMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcblxuICAgICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIGxpbmtIcmVmID0gdGFyZ2V0LnRleHRDb250ZW50O1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIGxpbmtIcmVmKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBvblNlcmllc0NoYW5nZSA9IChldnQpID0+IHtcbiAgICAgIHNlcmllc0J1dHRvbi50ZXh0Q29udGVudCA9IGV2dC50YXJnZXQudmFsdWU7XG4gICAgICBpZiAoIXNlcmllc0J1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgc2VyaWVzQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGxpbmsuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgIGxpbmtIcmVmID0gZXZ0LnRhcmdldC52YWx1ZTtcbiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgbGlua0hyZWYpO1xuICAgIH1cblxuICAgIC8vbGV0IHNwbGl0c0RhdGEgPSBiYWNrZW5kLmxvYWQoZ2V0RGF0YSk7XG5cbiAgICAvL2JyYW5kU2VsZWN0LmFwcGVuZENoaWxkKG1ha2VPcHRpb25Ob2RlKHNwbGl0cykpO1xuICAgIC8vbWFrZU9wdGlvbk5vZGUoc3BsaXRzKTtcbiAgICAvL2JhY2tlbmQubG9hZChtYWtlT3B0aW9uTm9kZSk7XG5cblxuICAgIC8vIG1ha2VTZWxlY3QoYnJhbmRDbGFzcyk7XG4gICAgLy8gbWFrZVNlbGVjdChzZXJpZXNDbGFzcyk7XG5cbiAgICAvLyBqUXVlcnkoYnJhbmRDbGFzcykuc2VsZWN0Mignb3BlbicpO1xuICAgIC8vIGpRdWVyeShicmFuZENsYXNzKS5zZWxlY3QyKCdjbG9zZScpO1xuXG5cbiAgICAvLyBjb25zdCBzZXJpZXNTZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGVsLWNob2ljZV9fc2VyaWVzLXNlbGVjdCcpO1xuXG5cbiAgICAvLyBjb25zdCBoaWRlU2VyaWVzID0gKCkgPT4ge1xuICAgIC8vICAgc2VyaWVzU2VsZWN0cy5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAvLyAgICAgaWYgKCFzZWxlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgIC8vICAgICAgIHNlbGVjdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAvLyAgICAgICBzZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdpZCcpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICB9KVxuICAgIC8vIH07XG5cbiAgICAvLyBjb25zdCBzaG93U2VyaWVzID0gKGlkeCkgPT4ge1xuICAgIC8vICAgc2VyaWVzU2VsZWN0c1tpZHhdLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIC8vICAgc2VyaWVzU2VsZWN0c1tpZHhdLnNldEF0dHJpYnV0ZSgnaWQnLCAnc2VyaWVzLXNlbGVjdCcpO1xuICAgIC8vIH07XG5cbiAgICAvLyBqUXVlcnkoYnJhbmRDbGFzcykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAvLyAgIGxldCBpZHggPSAralF1ZXJ5KCcubW9kZWwtY2hvaWNlX19icmFuZC1zZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJykuYXR0cignZGF0YS1pZCcpO1xuXG4gICAgLy8gICBoaWRlU2VyaWVzKCk7XG4gICAgLy8gICBzaG93U2VyaWVzKGlkeCArIDEpO1xuXG4gICAgLy8gICBqUXVlcnkoJyNzZXJpZXMtc2VsZWN0Jykuc2VsZWN0Mignb3BlbicpO1xuICAgIC8vICAgalF1ZXJ5KCcjc2VyaWVzLXNlbGVjdCcpLnNlbGVjdDIoJ2Nsb3NlJyk7XG5cbiAgICAvLyAgIGpRdWVyeSgnLm1vZGVsLWNob2ljZV9fYnJhbmQtc2VsZWN0JykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgLy8gICBqUXVlcnkoJy5tb2RlbC1jaG9pY2VfX3Nlcmllcy1zZWxlY3QnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAvLyB9KTtcblxuICAgIC8vIGpRdWVyeShzZXJpZXNDbGFzcykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAvLyAgIGlmIChsaW5rLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkge1xuICAgIC8vICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgLy8gICB9XG5cbiAgICAvLyAgIGxldCB2YWx1ZSA9IGpRdWVyeShldnQudGFyZ2V0KS5jaGlsZHJlbignb3B0aW9uOnNlbGVjdGVkJykudGV4dCgpO1xuICAgIC8vICAgbGlua0hyZWYgPSB2YWx1ZTtcblxuXG4gICAgLy8gICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIGxpbmtIcmVmKTtcblxuICAgIC8vICAgalF1ZXJ5KCcubW9kZWwtY2hvaWNlX19zZXJpZXMtc2VsZWN0JykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgLy8gfSk7XG5cbiAgICAvL1Jlc2l6ZS5pbml0KCk7XG4gICAgLy9SZXNpemUuYWRkTGlzdGVuZXIoKTtcblxuICAgIGJyYW5kQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25CcmFuZENsaWNrKTtcbiAgICBzZXJpZXNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblNlcmllc0NsaWNrKTtcbiAgICBicmFuZExpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkJyYW5kSXRlbUNsaWNrKTtcbiAgICBzZXJpZXNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25TZXJpZXNJdGVtQ2xpY2spO1xuICAgIGJyYW5kU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQnJhbmRDaGFuZ2UpO1xuICAgIHNlcmllc1NlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvblNlcmllc0NoYW5nZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25PdXRzaWRlQ2xpY2spO1xuICB9O1xuXG4gIGJhY2tlbmQubG9hZChtYWtlT3B0aW9uTm9kZSk7XG5cbn0pKHdpbmRvdy5iYWNrZW5kLCB3aW5kb3cubWFrZVNlbGVjdCwgd2luZG93LlJlc2l6ZSk7XG4iXX0=
